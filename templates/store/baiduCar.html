<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=88318be4b6609ecec7e76169932d0b77"></script>
<script type="text/javascript">
window.onload=function() {
    // 百度地图API功能
    if({@userLng}!=""){
        var map = new BMap.Map("allmap");
        map.centerAndZoom(new BMap.Point(116.404, 39.915), 11);

        var p1 = new BMap.Point({@userLng}, {@userLat});
        var p2 = new BMap.Point({@shopLng}, {@shopLat});

        var driving = new BMap.DrivingRoute(map, {renderOptions: {map: map, autoViewport: true}});
        driving.search(p1, p2);
    }


}

</script>
<div id="allmap" style="width: 100%;height: 1000px;border: 1px solid red"></div>
<if condition="{@userLng==''}">
    <div>请发送坐标来做查询</div>
</if>